<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName www.sinon.us.to
    ServerAlias sinon.us.to
    DocumentRoot /var/www/sinon.us.to/html
    ErrorLog /var/www/sinon.us.to/log/error.log
    CustomLog /var/www/sinon.us.to/log/requests.log combined

<Directory /var/www/sinon.us.to>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride All
                Order allow,deny
                allow from all
</Directory> 

SSLCertificateFile /etc/letsencrypt/live/sinon.us.to/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/sinon.us.to/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateChainFile /etc/letsencrypt/live/sinon.us.to/chain.pem
</VirtualHost>
</IfModule>
<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName www.vortan.dev
    ServerAlias vortan.dev
    DocumentRoot /var/www/sinon.us.to/html
    ErrorLog /var/www/sinon.us.to/log/error.log
    CustomLog /var/www/sinon.us.to/log/requests.log combined
    ProxyPreserveHost On

    ProxyPass /data http://127.0.0.1:3000
    ProxyPassReverse /data http://127.0.0.1:3000

    ProxyPass /api http://127.0.0.1:8080/api
    ProxyPassReverse /api http://127.0.0.1:8080/api
<Directory /var/www/sinon.us.to>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride All
                Order allow,deny
                allow from all
</Directory> 
RewriteEngine on
# Some rewrite rules in this file were disabled on your HTTPS site,
# because they have the potential to create redirection loops.

# RewriteCond %{SERVER_NAME} =www.sinon.us.to [OR]
# RewriteCond %{SERVER_NAME} =sinon.us.to
# RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]

SSLCertificateFile /etc/letsencrypt/live/vortan.dev/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/vortan.dev/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateChainFile /etc/letsencrypt/live/vortan.dev/chain.pem
</VirtualHost>
</IfModule>
